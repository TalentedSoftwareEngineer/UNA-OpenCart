<style type="text/css">
  .switch {
    position: relative;
    display: inline-block;
    width: 55px;
    height: 28px;
  }

  .switch input { 
    opacity: 0;
    width: 0;
    height: 0;
  }

  .slider {
    position: absolute;
    cursor: pointer;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-color: #ccc;
    -webkit-transition: .4s;
    transition: .4s;
  }

  .slider:before {
    position: absolute;
    content: "";
    height: 20px;
    width: 20px;
    left: 4px;
    bottom: 4px;
    background-color: white;
    -webkit-transition: .4s;
    transition: .4s;
  }

  input:checked + .slider {
    background-color: #2196F3;
  }

  input:focus + .slider {
    box-shadow: 0 0 1px #2196F3;
  }

  input:checked + .slider:before {
    -webkit-transform: translateX(26px);
    -ms-transform: translateX(26px);
    transform: translateX(26px);
  }

  /* Rounded sliders */
  .slider.round {
    border-radius: 34px;
  }

  .slider.round:before {
    border-radius: 50%;
  }

  .d-flex {
    display: flex !important;
  }

  .justify-content-center {
    justify-content: center !important;
  }

  .align-items-center {
    align-items: center !important;
  }
</style>
{{ header }}{{ lts_column_left }}
<div id="content">
    <div class="page-header">
        <div class="container-fluid">
            <h1>{{ heading_title }}</h1>
            <ul class="breadcrumb">
                {% for breadcrumb in breadcrumbs %}
                <li><a href="{{ breadcrumb.href }}">{{ breadcrumb.text }}</a></li>
                {% endfor %}
            </ul>
        </div>
    </div>
    {% if error_warning %}
    <div class="alert alert-danger alert-dismissible"><i class="fa fa-exclamation-circle"></i> {{ error_warning }}
        <button type="button" class="close" data-dismiss="alert">&times;</button>
    </div>
    {% endif %}
    {% if success %}
    <div class="alert alert-success alert-dismissible"><i class="fa fa-check-circle"></i> {{ success }}</div>
    {% endif %}
    <div class="panel panel-default">         
        <div class="panel-body">

        <div class="row">
          {% if  already_apply is not empty %}
              <div class="col-md-12 pt-2" style="margin-top:50px; ">
                 <span class="text-center"><h2>{{ text_message_wait4approve }}</h2></span>
                 <span class="text-center"><h4><a href="{{account_link}}">{{ text_back2account }}</a></h4></span>
              </div>
            
            {% else %}
          <div class="col-sm-12 lts-products">

            <div class="panel panel-default">
              <div class="panel-heading clearfix"><b><span >{{ text_form }}</span></b>
                <div class="pull-right">
                  <button type="submit" form="form-vendor-store" data-toggle="tooltip" title="{{ button_save }}" class="btn btn-primary"><i class="fa fa-save"></i></button>

                  <a href="{{ cancel }}" data-toggle="tooltip" title="{{ button_cancel }}" class="btn btn-default"><i class="fa fa-reply"></i></a>

                </div><br><br>
                <form action="{{ action }}" method="post" enctype="multipart/form-data" id="form-vendor-store" class="form-horizontal">

              <ul class="nav nav-tabs">
                <li class="active"><a href="#tab-general" data-toggle="tab">{{ tab_general }}</a></li>
                <li><a href="#tab-store" data-toggle="tab">{{ tab_store }}</a></li>
                <li><a href="#tab-local" data-toggle="tab">{{ tab_local }}</a></li>
                <li><a href="#tab-image" data-toggle="tab">{{ tab_image }}</a></li>
                <li><a href="#tab-social" data-toggle="tab">{{ tab_social }}</a></li>
                <li><a href="#tab-seo" data-toggle="tab">{{ tab_seo }}</a></li>
              </ul>

              <div class="tab-content">
                <div class="tab-pane active" id="tab-general">

                  <div class="form-group">
                    <label class="col-sm-2 control-label" for="input-description">{{ entry_description }}</label>
                    <div class="col-sm-10">
                      <textarea name="description" class="form-control" rows="5" placeholder="{{ entry_description }}">{{ description }}</textarea>
                    </div>
                  </div> 

                  <div class="form-group required">
                    <label class="col-sm-2 control-label" for="input-title">{{ entry_meta_title }}</label>
                    <div class="col-sm-10">
                      <input type="text" name="meta_title" value="{{ meta_title }}" class="form-control" placeholder="{{ entry_meta_title }}">
                      {% if error_meta_title %}  
                        <div class="text-danger">{{ error_meta_title }}</div>
                      {% endif %}
                    </div>
                  </div> 

                  <div class="form-group required">
                    <label class="col-sm-2 control-label" for="input-meta-description">{{ entry_meta_description }}</label>
                    <div class="col-sm-10">
                      <textarea name="meta_description" class="form-control" rows="5" placeholder="{{ entry_meta_description }}">{{ meta_description }}</textarea>
                      {% if error_meta_description %}  
                        <div class="text-danger">{{ error_meta_description }}</div>
                      {% endif %}
                    </div>
                  </div> 

                  <div class="form-group required">
                    <label class="col-sm-2 control-label" for="input-meta-keyword">{{ entry_meta_keyword }}</label>
                    <div class="col-sm-10">
                      <textarea name="meta_keyword" class="form-control" rows="5" placeholder="{{ entry_meta_keyword }}">{{ meta_keyword }}</textarea>
                      {% if error_meta_keyword %}  
                        <div class="text-danger">{{ error_meta_keyword }}</div>
                      {% endif %}
                    </div>
                  </div> 



                </div>
                <div class="tab-pane" id="tab-store">
                  <div class="form-group required">
                    <label class="col-sm-2 control-label" for="input-store-owner">{{ entry_store_owner }}</label>
                    <div class="col-sm-10">
                      <input type="text" name="store_owner" value="{{ store_owner }}" class="form-control" placeholder="{{ entry_store_owner }}">
                      {% if error_store_owner %}  
                        <div class="text-danger">{{ error_store_owner }}</div>
                      {% endif %}
                    </div>
                  </div> 


                  <div class="form-group required">
                    <label class="col-sm-2 control-label" for="input-store-name">{{ entry_store_name }}</label>
                    <div class="col-sm-10">
                      <input type="text" name="store_name" value="{{ store_name }}" class="form-control" placeholder="{{ entry_store_name }}">
                      {% if error_store_name %}  
                        <div class="text-danger">{{ error_store_name }}</div>
                      {% endif %}
                    </div>
                  </div>  

                  <div class="form-group required">
                    <label class="col-sm-2 control-label" for="input-name">{{ entry_address }}</label>
                    <div class="col-sm-10">
                    {#   <input type="text" name="address" class="form-control" placeholder="{{ entry_address }}" value="{{ address }}"> #}

                    <textarea name="address" class="form-control" placeholder="{{ entry_address }}">{{ address }}</textarea>

                      {% if error_address %}  
                        <div class="text-danger">{{ error_address }}</div>
                      {% endif %}
                    </div>
                  </div> 


                  <div class="form-group required">
                    <label class="col-sm-2 control-label" for="input-name">{{ entry_email }}</label>
                    <div class="col-sm-10">
                      <input type="text" name="email" value="{{ email }}" class="form-control" placeholder="{{ entry_email }}">
                      {% if error_email %}  
                        <div class="text-danger">{{ error_email }}</div>
                      {% endif %}
                    </div>
                  </div> 

                  <div class="form-group required">
                    <label class="col-sm-2 control-label" for="input-name">{{ entry_telephone }}</label>
                    <div class="col-sm-10">
                      <input type="text" name="telephone" value="{{ telephone }}" class="form-control" placeholder="{{ entry_telephone }}">
                      {% if error_telephone %}  
                        <div class="text-danger">{{ error_telephone }}</div>
                      {% endif %}
                    </div>
                  </div> 

                  <div class="form-group">
                    <label class="col-sm-2 control-label" for="input-name">{{ entry_fax }}</label>
                    <div class="col-sm-10">
                      <input type="text" name="fax" value="{{ fax }}" class="form-control" placeholder="{{ entry_fax }}">
                    </div>
                  </div> 

                  <div class="form-group">
                    <div class="col-sm-2"></div>
                    <div class="col-sm-10">
                      <div class="d-flex align-items-center">
                        <label class="switch">
                          <input id="toggle_store_type" type="checkbox">
                          <span class="slider round"></span>
                        </label>
                        <h5 id="store_type_label" style="margin-bottom: 0;margin-left: 10px !important;margin-right: 30px;"></h5>
                      </div>
                      <h5 class="text-info" id="message" style="margin-top: 10px"></h5>
                    </div>
                  </div>
                  <p id="customer_id" style="display: none;">{{customer_id}}</p>
                </div>


                <div class="tab-pane" id="tab-local">

                  <div class="form-group required">
                    <label class="col-sm-2 control-label" for="input-name">{{ entry_country }}</label>
                    <div class="col-sm-10">
                      <select name="country_id" id="input-payment-country" class="form-control">
                        <option value="">{{ text_select }}</option>
                        {% for country in countries %}
                          {% if country.country_id == country_id %}
                            <option value="{{ country.country_id }}" selected="selected">{{ country.name }}</option>
                          {% else %}
                            <option value="{{ country.country_id }}">{{ country.name }}</option>
                          {% endif %}
                        {% endfor %}
                      </select>
                      {% if error_country %}  
                        <div class="text-danger">{{ error_country }}</div>
                      {% endif %}
                    </div>
                  </div> 
   
                  <div class="form-group required">
                    <label class="col-sm-2 control-label" for="input-name">{{ entry_state }}</label>
                    <div class="col-sm-10">
                      <select name="zone_id" id="input-payment-zone" class="form-control">
                      </select>
                      {% if error_zone %}  
                        <div class="text-danger">{{ error_zone }}</div>
                      {% endif %}
                    </div>
                  </div> 


                  <div class="form-group required">
                    <label class="col-sm-2 control-label" for="input-name">{{ entry_city }}</label>
                    <div class="col-sm-10">
                      <input type="text" name="city" class="form-control" value="{{ city }}" placeholder="{{ entry_city }}">
                      {% if error_city %}  
                        <div class="text-danger">{{ error_city }}</div>
                      {% endif %}
                    </div>
                  </div> 
                </div> 
                <div class="tab-pane" id="tab-image">

                  <div class="form-group ">
                    <label class="col-sm-2 control-label" for="input-logo">{{ entry_logo }}
                    <br><i style="font-size: 9px;">{{ text_logo }}</i>
                    </label>
                    <div class="col-sm-10">
                      <a href="" id="thumb-logo" data-toggle="image" class="img-thumbnail"><img src="{{ logo_thumb }}" alt="" title="" data-placeholder="{{ placeholder }}" /></a>

                      <input type="hidden" name="logo" value="{{ logo }}" id="input-logo" />
                    </div>
                  </div> 

                  <div class="form-group ">
                    <label class="col-sm-2 control-label" for="input-banner">{{ entry_banner }}<br><i style="font-size: 9px;">{{ text_banner }}</i></label>
                    <div class="col-sm-10">
                      <a href="" id="thumb-banner" data-toggle="image" class="img-thumbnail"><img src="{{ banner_thumb }}" alt="" title="" data-placeholder="{{ placeholder }}" /></a>
                      <input type="hidden" name="banner" value="{{ banner }}" id="input-banner"/>
                    </div>
                  </div> 

                  <div class="form-group">
                    <label class="col-sm-2 control-label" for="input-profile-image">{{ entry_profile_image }}<br><i style="font-size: 9px;">{{ text_profile }}</i></label>
                    <div class="col-sm-10">
                      <a href="" id="thumb-profile" data-toggle="image" class="img-thumbnail"><img src="{{ profile_image_thumb }}" alt="" title="" data-placeholder="{{ placeholder }}" /></a>
                      <input type="hidden" name="profile_image" value="{{ profile_image }}" id="input-profile-image"/>
                    </div>
                  </div>  

                </div>

                <div class="tab-pane" id="tab-social">
                  <div class="form-group">
                    <label class="col-sm-2 control-label" for="input-name">{{ entry_facebook }}</label>
                    <div class="col-sm-10">
                      <div class="input-group">
                        <span class="input-group-addon"><i class="fa fa-facebook" aria-hidden="true"></i></span>
                        <input type="text" class="form-control" placeholder="{{ entry_facebook }}" value="{{ facebook }}" name="facebook">
                      </div>
                    </div>
                  </div> 

                  <div class="form-group">
                    <label class="col-sm-2 control-label" for="input-name">{{ entry_instagram }}</label>
                    <div class="col-sm-10">
                      <div class="input-group">
                        <span class="input-group-addon"><i class="fa fa-instagram" aria-hidden="true"></i></span>
                        <input type="text" class="form-control" placeholder="{{ entry_instagram }}" value="{{ instagram }}" name="instagram">
                      </div>
                    </div>
                  </div>

                  <div class="form-group">
                    <label class="col-sm-2 control-label" for="input-name">{{ entry_youtube }}</label>
                    <div class="col-sm-10">
                      <div class="input-group">
                        <span class="input-group-addon"><i class="fa fa-youtube" aria-hidden="true"></i></span>
                        <input type="text" class="form-control" placeholder="{{ entry_youtube }}" value="{{ youtube }}" name="youtube">
                      </div>
                    </div>
                  </div> 


                  <div class="form-group">
                    <label class="col-sm-2 control-label" for="input-name">{{ entry_twitter }}</label>
                    <div class="col-sm-10">
                      <div class="input-group">
                        <span class="input-group-addon"><i class="fa fa-twitter" aria-hidden="true"></i></span>
                        <input type="text" class="form-control" placeholder="{{ entry_twitter }}" value="{{ twitter }}" name="twitter">
                      </div>
                    </div>
                  </div> 

                  <div class="form-group">
                    <label class="col-sm-2 control-label" for="input-name">{{ entry_pintrest }}</label>
                    <div class="col-sm-10">
                      <div class="input-group">
                        <span class="input-group-addon"><i class="fa fa-pinterest" aria-hidden="true"></i></span>
                        <input type="text" class="form-control" placeholder="{{ entry_pintrest }}" value="{{ pinterest }}" name="pinterest">
                      </div>
                    </div>
                  </div> 

                </div>

                <div class="tab-pane" id="tab-seo">
                  <div class="alert alert-info"><i class="fa fa-info-circle"></i> {{ text_keyword }}</div>
                  <div class="table-responsive">
                    <table class="table table-bordered table-hover">
                      <thead>
                        <tr>
                          <td class="text-left">{{ entry_store }}</td>
                          <td class="text-left">{{ entry_keyword }}</td>
                        </tr>
                      </thead>
                      <tbody>
                        {% for store in stores %}
                          <tr>
                            <td class="text-left">{{ store.name }}</td>
                            <td class="text-left">{% for language in languages %}
                                <div class="input-group"><span class="input-group-addon"><img src="catalog/language/{{ language.code }}/{{ language.code }}.png" title="{{ language.name }}"/></span> <input type="text" name="vendor_seo_url[{{ store.store_id }}][{{ language.language_id }}]" value="{% if vendor_seo_url[store.store_id][language.language_id] %}{{ vendor_seo_url[store.store_id][language.language_id] }}{% endif %}" placeholder="{{ entry_keyword }}" class="form-control"/>
                                </div>
                                {% if error_keyword[store.store_id][language.language_id] %}
                                  <div class="text-danger">{{ error_keyword[store.store_id][language.language_id] }}</div>
                                {% endif %}
                              {% endfor %}</td>
                          </tr>
                        {% endfor %}
                      </tbody>

                    </table>
                  </div>
                </div>

              </div>

            </form>
              </div>
            </div>
        
            

          </div>
          {% endif %}

        </div>
      </div>
    </div>  
    <script type="text/javascript"><!--
$('select[name=\'country_id\']').on('change', function () {
        $.ajax({
          url: 'index.php?route=account/vendor/lts_store/country&country_id=' + this.value,
          dataType: 'json',

          success: function (json) {
            html = '<option value="">{{ text_select }}</option>';
            if (json['zone'] && json['zone'] != '') {
              for (i = 0; i < json['zone'].length; i++) {
                html += '<option value="' + json['zone'][i]['zone_id'] + '"';

                if (json['zone'][i]['zone_id'] == '{{ zone_id }}') {
                  html += ' selected="selected"';
                }

                html += '>' + json['zone'][i]['name'] + '</option>';
              }
            } else {
              html += '<option value="0" selected="selected">{{ text_none }}</option>';
            }
            $('select[name=\'zone_id\']').html(html);
          },
          error: function (xhr, ajaxOptions, thrownError) {
            alert(thrownError + "\r\n" + xhr.statusText + "\r\n" + xhr.responseText);
          }
        });
      });

      $('select[name=\'country_id\']').trigger('change');

      $.ajax({
        type: 'post',
        url: 'index.php?route=api/store/getStoreType',
        data: {
          customer_id: Number($('#customer_id').text())
        },
        success: function(response){
          $('#toggle_store_type').prop('checked', Boolean(Number(response.store_type)));
          if(Boolean(Number(response.store_type))) {
            $('#store_type_label').text('Physical store');
          } else {
            $('#store_type_label').text('Virtual store');
          }
        },
        error: function(error, ajaxOptions, thrownError) {
            
        }
      });

      $('#toggle_store_type').change(function() {
        if(this.checked) {
          $('#store_type_label').text('Physical store');
          $('#message').html('<a href="index.php?route=account/vendor/lts_store">To authorized as Physical store & enjoy full ecommerce advance benefits click here</a>');
        } else {
          $('#store_type_label').text('Virtual store');
          $('#message').text('');
        }

        $.ajax({
          type: 'post',
          url: 'index.php?route=api/store/changeStoreType',
          data: {
            customer_id: Number($('#customer_id').text()),
            store_type: this.checked
          },
          success: function(response){
            
          },
          error: function(error, ajaxOptions, thrownError) {
              
          }
        });

      });

      //--></script>
{{ footer }}  
  </div>